<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PassionPay - Job Search</title>
    <link href="/style.css" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@1.9.12" integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2" crossorigin="anonymous"></script>
    <style>
        /* Refined CSS for HTMX loading indicator */
        #loading-spinner {
            display: none; /* Hidden by default */
            opacity: 0;
            transition: opacity 200ms ease-in;
        }
        #loading-spinner.htmx-request {
            display: inline; /* Shown when HTMX adds .htmx-request class to it */
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4 md:p-8 max-w-3xl">
        <header class="mb-8 text-center">
            <h1 class="text-4xl font-bold text-blue-600">PassionPay Job Search</h1>
            <p class="text-lg text-gray-700">Find your next opportunity using AI-powered semantic search.</p>
        </header>

        <div class="search-container bg-white p-6 rounded-lg shadow-md mb-8">
            <form 
                hx-get="/api/search"
                hx-trigger="submit"
                hx-target="#search-results"
                hx-indicator="#loading-spinner"
                hx-swap="innerHTML"
            >
                <label for="search-input" class="block text-sm font-medium text-gray-700 mb-1">Search for jobs (e.g., "machine learning engineer in New York")</label>
                <div class="flex items-center">
                    <input 
                        type="search" 
                        name="query" 
                        id="search-input"
                        class="w-full p-3 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 text-lg focus:z-10"
                        placeholder="Enter job title, skills, or keywords..."
                        autocomplete="off"
                    >
                    <button type="submit" class="p-3 bg-slate-200 text-slate-700 border-2 border-slate-400 rounded-r-md hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-opacity-50 text-lg -ml-px">
                        Search
                    </button>
                    <span id="loading-spinner" class="htmx-indicator ml-3">
                        Loading...
                    </span>
                </div>
                <p class="text-xs text-gray-500 mt-1">Press Enter or click Search. Results will appear below.</p>
            </form>
        </div>

        <div id="search-results" class="bg-white p-6 rounded-lg shadow-md min-h-[100px]">
            <!-- Search results will be loaded here by HTMX -->
            <p class="text-gray-500">Enter a query above to see job results.</p>
        </div>

        <footer class="mt-12 text-center text-sm text-gray-500">
            <p>&copy; 2025 PassionPay. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>
